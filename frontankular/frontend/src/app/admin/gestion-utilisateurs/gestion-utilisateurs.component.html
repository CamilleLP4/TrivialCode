<h3>Gestion Utilisateur</h3>

<table class="table col-10 mx-auto">
    <thead>
        <tr>
            <th style="width:5%" scope="col">Id</th>
            <th style="width:5%" scope="col">Date d'inscription</th>
            <th style="width:10%" scope="col">Nom</th>
            <th style="width:40%" scope="col">Email</th>
            <th style="width:10%" scope="col">Type d'utilisateur</th>
            <th style="width:5%" scope="col">Langages</th>
            <th style="width:5%" scope="col">Classement</th>

        </tr>
    </thead>

    <tbody class="table">
        <tr *ngFor="let user of users">
            <td>{{user.id}}</td>
            <td>{{user.dateInscription}}</td>
            <td>{{user.username}}</td>
            <td>{{user.email}}</td>
            <td>{{user.typeUser.type}}</td>
            <td>
                <p *ngFor="let langage of user.langage">
                    {{langage.language }}
                </p>
            </td>
            <td>{{user.ranking}}</td>
        </tr>
    </tbody>
</table>


<h3 class="ajout text-left" style="margin-top:100px;">Ajouter utilisateur</h3>
<form [formGroup]='form' (ngSubmit)='postUser(form)' class="col-5 mx-auto">

    <div class="form-group">
        <label> Nom </label>
        <input formControlName=username class="form-control" rows="4">
    </div>
    <div class="form-group">
        <label> Email </label>
        <input type="email" formControlName=email class="form-control">
    </div>
    <div class="form-group">
        <label> Mot de passe </label>
        <input type="password" formControlName=password class="form-control">
    </div>

    <div class="form-group">
        <label>Type d'utilisateur</label>
        <select class="form-control" formControlName=typeUser>
            <option *ngFor="let typeUser of typeUsers"> {{typeUser.type}}</option>
        </select>
    </div>
    <div class="form-group">
        <label>Langages</label>
        <select multiple class="form-control" formControlName=langage>
            <option *ngFor="let langage of languages"> {{langage.language}}</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Ajouter</button>

</form>


<h3 class="ajout text-left" style="margin-top:100px;">Modifier utilisateur</h3>
<form [formGroup]='form' (ngSubmit)='updateUser(form)' class="col-5 mx-auto">

    <div class="form-group">
        <label>Id</label>
        <select (change)="dynForm($event)" class="form-control" formControlName=id>
            <option *ngFor="let user of users"  [ngValue]="user.id">{{user.id}}</option>
        </select>
    </div>
    <div class="form-group">
        <label> Nom </label>
        <input formControlName=username class="form-control" rows="4">
    </div>
    <div class="form-group">
        <label> Email </label>
        <input type="email" formControlName=email class="form-control">
    </div>
    <div class="form-group">
        <label> Mot de passe </label>
        <input type="password" formControlName=password class="form-control">
    </div>

    <div class="form-group">
        <label>Type d'utilisateur</label>
        <select class="form-control" formControlName=typeUser>
            <option *ngFor="let typeUser of typeUsers"> {{typeUser.type}}</option>
        </select>
    </div>
    <div class="form-group">
        <label>Langages</label>
        <select multiple class="form-control" formControlName=langage>
            <option *ngFor="let langage of languages"> {{langage.language}}</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Modifier</button>

</form>



<h3 class="ajout text-left" style="margin-top:100px;">Supprimer Utilisateur</h3>
<form [formGroup]='form' (ngSubmit)='deleteUser(form)' class="col-5 mx-auto">
  <div class="form-group">
    <label>Id</label>
    <select class="form-control" formControlName=id>
      <option *ngFor="let user of users">{{user.id}}</option>
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Supprimer</button>
</form>